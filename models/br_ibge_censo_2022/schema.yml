---
version: 2
models:
  - name: br_ibge_censo_2022__dicionario
    description: Dicionário para tradução dos códigos do conjunto br_ibge_censo_2022.
      Para taduzir códigos compartilhados entre instituições, como id_municipio, buscar
      por diretórios
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - id_tabela
            - nome_coluna
            - chave
            - cobertura_temporal
    columns:
      - name: id_tabela
        description: ID Tabela
      - name: nome_coluna
        description: Nome da coluna
      - name: chave
        description: Chave
      - name: cobertura_temporal
        description: Cobertura Temporal
      - name: valor
        description: Valor
  - name: br_ibge_censo_2022__indice_envelhecimento
    description: Índice de envelhecimento, idade mediana e razão de sexo da população
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [id_municipio]
    columns:
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: indice_envelhecimento
        description: Índice de envelhecimento
      - name: idade_mediana
        description: Idade mediana
      - name: razao_sexo
        description: Razão de sexo
  - name: br_ibge_censo_2022__alfabetizacao_grupo_idade_indigena
    description: Taxa de alfabetização das pessoas indígenas de 15 anos ou mais de
      idade por sexo e grupos de idade
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [id_municipio, sexo, grupo_idade]
    columns:
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: sexo
        description: Sexo
      - name: grupo_idade
        description: Grupo de Idade
      - name: alfabetizacao
        description: Alfabetização
      - name: populacao_indigena
        description: Pessoas indígenas de 15 anos ou mais de idade
  - name: br_ibge_censo_2022__alfabetizacao_grupo_idade_sexo_raca
    description: Insert table description here
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - id_municipio
            - cor_raca
            - sexo
            - grupo_idade
            - alfabetizacao
    columns:
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: cor_raca
        description: Cor ou raça
      - name: sexo
        description: Sexo
      - name: grupo_idade
        description: Grupo de Idade
      - name: alfabetizacao
        description: Alfabetização
      - name: populacao
        description: Pessoas de 15 anos ou mais de idade
  - name: br_ibge_censo_2022__cadastro_enderecos
    description: O Cadastro Nacional de Endereços para Fins Estatísticos - CNEFE é
      uma base de dados de abrangência nacional criada em 2005. Esse cadastro contempla
      endereços georreferenciados de domicílios e estabelecimentos de todo o país
      para o ano de 2022.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [id_endereco]
      - custom_dictionaries:
          columns_covered_by_dictionary:
            - descricao_estabelecimento
            - tipo_especie
            - tipo_estabelecimento
            - tipo_construcao
            - tipo_finalidade_construcao
            - tipo_edificacao_domicilio
            - nivel_geocodificacao_coordenadas
          dictionary_model: ref('br_ibge_censo_2022__dicionario')
    columns:
      - name: sigla_uf
        description: Sigla da Unidade da Federação
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__uf')
              field: sigla
      - name: id_municipio
        description: ID Município IBGE - 7 Dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: id_distrito
        description: ID do Distrito
      - name: id_subdistrito
        description: ID do Subdistrito
      - name: id_setor_censitario
        description: ID do Setor Censitário
      - name: cep
        description: CEP
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__cep')
              field: cep.cep
      - name: id_endereco
        description: Identificador do endereço
      - name: numero_quadra
        description: Número da quadra
      - name: numero_face
        description: Número da face
      - name: localidade
        description: Localidade
      - name: tipo_segmento_logradouro
        description: Tipo do segmento do logradouro
      - name: titulo_segmento_logradouro
        description: Título do segmento do logradouro
      - name: nome_logradouro
        description: Nome do logradouro
      - name: numero_logradouro
        description: Número no logradouro
      - name: modificador_numero
        description: Modificador do número
      - name: complemento_elemento_1
        description: 'Complemento: Elemento 1'
      - name: complemento_valor_1
        description: 'Complemento: Valor 1'
      - name: complemento_elemento_2
        description: 'Complemento: Elemento 2'
      - name: complemento_valor_2
        description: 'Complemento: Valor 2'
      - name: complemento_elemento_3
        description: 'Complemento: Elemento 3'
      - name: complemento_valor_3
        description: 'Complemento: Valor 3'
      - name: complemento_elemento_4
        description: 'Complemento: Elemento 4'
      - name: complemento_valor_4
        description: 'Complemento: Valor 4'
      - name: complemento_elemento_5
        description: 'Complemento: Elemento 5'
      - name: complemento_valor_5
        description: 'Complemento: Valor 5'
      - name: descricao_estabelecimento
        description: Identificação do estabelecimento
      - name: tipo_especie
        description: Espécie de endereço
      - name: tipo_estabelecimento
        description: Tipo de estabelecimento
      - name: tipo_construcao
        description: Tipo de construção ou reforma
      - name: tipo_finalidade_construcao
        description: Tipo de finalidade de construção
      - name: tipo_edificacao_domicilio
        description: Tipo da edificação dos domicílios
      - name: nivel_geocodificacao_coordenadas
        description: Nível de geocodificação das coordenadas
      - name: latitude
        description: Latitude do Endereço
      - name: longitude
        description: Longitude do Endereço
      - name: ponto
        description: Ponto geográfico criado a partir das colunas longitude e latitude
  - name: br_ibge_censo_2022__caracteristica_domicilio_grupo_idade_raca_destino_lixo
    description: Moradores em domicílios particulares permanentes ocupados, por destino
      do lixo, segundo grupos de idade e cor ou raça
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - ano
            - id_municipio
            - tipo_destino_lixo
            - grupo_idade
            - cor_raca
    columns:
      - name: ano
        description: Ano
        tests:
          - relationships:
              to: ref('br_bd_diretorios_data_tempo__ano')
              field: ano.ano
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: tipo_destino_lixo
        description: Destino do lixo
      - name: grupo_idade
        description: Grupo de Idade
      - name: cor_raca
        description: Cor ou Raça
      - name: populacao
        description: Moradores em domicílios particulares permanentes ocupados
  - name: br_ibge_censo_2022__caracteristica_domicilio_grupo_idade_raca_esgotamento_sanitario
    description: Moradores em domicílios particulares permanentes ocupados, por tipo
      de esgotamento sanitário, segundo grupos de idade e cor ou raça
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - ano
            - id_municipio
            - tipo_esgotamento_sanitario
            - grupo_idade
            - cor_raca
    columns:
      - name: ano
        description: Ano
        tests:
          - relationships:
              to: ref('br_bd_diretorios_data_tempo__ano')
              field: ano.ano
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: tipo_esgotamento_sanitario
        description: Tipo de esgotamento sanitário
      - name: grupo_idade
        description: Grupo de Idade
      - name: cor_raca
        description: Cor ou Raça
      - name: populacao
        description: Moradores em domicílios particulares permanentes ocupados
  - name: br_ibge_censo_2022__caracteristica_domicilio_grupo_idade_raca_ligacao_abastecimento_agua
    description: Moradores em domicílios particulares permanentes ocupados, por existência
      de ligação à rede geral de distribuição de água e principal forma de abastecimento
      de água, segundo grupos de idade e cor ou raça
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - ano
            - id_municipio
            - tipo_ligacao_rede_geral
            - grupo_idade
            - cor_raca
    columns:
      - name: ano
        description: Ano
        tests:
          - relationships:
              to: ref('br_bd_diretorios_data_tempo__ano')
              field: ano.ano
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: tipo_ligacao_rede_geral
        description: Existência de ligação à rede geral de distribuição de água e
          principal forma de abastecimento de água
      - name: grupo_idade
        description: Grupo de Idade
      - name: cor_raca
        description: Cor ou Raça
      - name: populacao
        description: Moradores em domicílios particulares permanentes ocupados
  - name: br_ibge_censo_2022__domicilio_recenseado
    description: Domicílios recenseados, por espécie
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [id_municipio, especie]
    columns:
      - name: id_municipio
        description: ID Município IBGE 7 Dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: especie
        description: Classificação do domicílio
      - name: domicilios
        description: Total de domicílios recenseados
  - name: br_ibge_censo_2022__indice_envelhecimento_raca
    description: Índice de envelhecimento, idade mediana e razão de sexo, por cor
      ou raça
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [ano, id_municipio, cor_raca]
    columns:
      - name: ano
        description: Ano
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: cor_raca
        description: Cor ou Raça
      - name: indice_envelhecimento
        description: 'Índice de envelhecimento (Idosos: 60 anos ou mais de idade)'
      - name: idade_mediana
        description: Idade mediana
      - name: razao_sexo
        description: Razão de sexo
  - name: br_ibge_censo_2022__municipio
    description: Tabela de indicadores no nível de município
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [id_municipio]
    columns:
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: sigla_uf
        description: Sigla UF
      - name: domicilios
        description: Domicílios particulares permanentes ocupados
      - name: populacao
        description: Moradores em domicílios particulares permanentes ocupados
      - name: area
        description: Área do município
      - name: taxa_alfabetizacao
        description: Taxa de alfabetização das pessoas de 15 anos ou mais de idade
      - name: indice_envelhecimento
        description: Índice de envelhecimento
      - name: idade_mediana
        description: Idade mediana
      - name: razao_sexo
        description: Razão de sexo
      - name: populacao_indigena
        description: Moradores indígenas
      - name: populacao_indigena_terra_indigena
        description: Moradores indígenas em terras indígenas
      - name: populacao_quilombola
        description: Moradores quilombolas
      - name: populacao_quilombola_territorio_quilombola
        description: Moradores quilombolas em territórios quilombolas
  - name: br_ibge_censo_2022__populacao_grupo_idade_sexo_quilombola
    description: População quilombola, por localização do domicílio, grupos de idade
      e sexo
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - ano
            - id_municipio
            - localizacao_domicilio
            - grupo_idade
            - sexo
    columns:
      - name: ano
        description: Ano
        tests:
          - relationships:
              to: ref('br_bd_diretorios_data_tempo__ano')
              field: ano.ano
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: localizacao_domicilio
        description: Localização do Domicílio
      - name: grupo_idade
        description: Grupo de Idade
      - name: sexo
        description: Sexo
      - name: populacao_quilombola
        description: Pessoas Quilombolas
  - name: br_ibge_censo_2022__populacao_grupo_idade_sexo_raca
    description: População indígena, por localização do domicílio, grupos de idade
      e sexo
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - ano
            - id_municipio
            - grupo_idade
            - sexo
            - cor_raca
    columns:
      - name: ano
        description: Ano
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: grupo_idade
        description: Grupo de Idade
      - name: sexo
        description: Sexo
      - name: cor_raca
        description: Cor ou Raça
      - name: populacao
        description: População
  - name: br_ibge_censo_2022__populacao_idade_sexo_terra_indigena
    description: População residente em terras indígenas, total e indígenas, por idade,
      sexo e quesito de declaração indígena, segundo as Terras Indígenas
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - ano
            - id_terra_indigena
            - quesito_declaracao_indigena
            - sexo
            - idade
    columns:
      - name: ano
        description: Ano
      - name: id_terra_indigena
        description: ID da Terra Indígena
      - name: terra_indigena
        description: Terra Indígena
      - name: sigla_uf
        description: Sigla da Unidade da Federação
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__uf')
              field: sigla
      - name: quesito_declaracao_indigena
        description: Quesito declaração indígena
      - name: sexo
        description: Sexo
      - name: idade
        description: Idade
      - name: idade_anos
        description: Idade em anos
      - name: grupo_idade
        description: Grupo de Idade
      - name: populacao_indigena
        description: Pessoas indígenas residentes em terras indígenas
      - name: populacao
        description: Pessoas residentes em terras indígenas
  - name: br_ibge_censo_2022__populacao_idade_sexo_territorio_quilombola
    description: População residente em territórios quilombolas, total e quilombola,
      por idade e sexo, segundo os Territórios Quilombolas
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - ano
            - territorio_quilombola
            - sigla_uf
            - sexo
            - idade
    columns:
      - name: ano
        description: Ano
        tests:
          - relationships:
              to: ref('br_bd_diretorios_data_tempo__ano')
              field: ano.ano
      - name: territorio_quilombola
        description: Território Quilombola
      - name: sigla_uf
        description: Sigla da Unidade da Federação
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__uf')
              field: sigla
      - name: sexo
        description: Sexo
      - name: idade_anos
        description: Idade
      - name: grupo_idade
        description: Grupo de idade
      - name: pessoas_quilombolas
        description: Pessoas quilombolas residentes em territórios quilombolas
      - name: populacao_residente
        description: Pessoas residentes em territórios quilombolas
  - name: br_ibge_censo_2022__populacao_grupo_idade_uf
    description: População, por grupos de idade
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [sigla_uf, grupo_idade]
    columns:
      - name: sigla_uf
        description: Sigla da Unidade da Federação
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__uf')
              field: sigla
      - name: grupo_idade
        description: Grupo de idade
      - name: populacao
        description: População
  - name: br_ibge_censo_2022__setor_censitario
    description: Informações tabulares sobre os totais de pessoas e de domicílios
      por espécie, bem como sobre a média de moradores em domicílios particulares
      ocupados, por Setores Censitários preliminares.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [id_setor_censitario]
      - custom_dictionaries:
          columns_covered_by_dictionary:
            - id_setor
            - id_distrito
            - id_subdistrito
            - id_microrregiao
            - id_mesorregiao
            - id_regiao_imediata
            - id_regiao_intermediaria
            - id_concentracao_urbana
          dictionary_model: ref('br_ibge_censo_2022__dicionario')
    columns:
      - name: id_uf
        description: ID da Unidade da Federação
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__uf')
              field: id_uf
      - name: id_municipio
        description: ID Município IBGE - 7 Dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: id_setor
        description: Geocódigo de Setor Censitário
      - name: area_setor
        description: Área do Setor Censitário em quilômetros quadrados
      - name: id_distrito
        description: Código do distrito
      - name: id_subdistrito
        description: Código do subdistrito
      - name: id_microrregiao
        description: Código da microrregião
      - name: id_mesorregiao
        description: Código da mesorregião
      - name: id_regiao_imediata
        description: Código da região geográfica imediata
      - name: id_regiao_intermediaria
        description: Código da região geográfica intermediária
      - name: id_concentracao_urbana
        description: Código da Concentração Urbana
      - name: geometria
        description: Polígono
      - name: pessoas
        description: Total de pessoas
      - name: domicilios
        description: Total de Domicílios (DPPO + DPPV + DPPUO + DPIO + DCCM + DCSM)
      - name: domicilios_particulares
        description: Total de Domicílios Particulares (DPPO + DPPV + DPPUO + DPIO)
      - name: domicilios_coletivos
        description: Total de Domicílios Coletivos (DCCM + DCSM)
      - name: media_moradores_domicilios
        description: Média de moradores em Domicílios Particulares Ocupados (Total
          pessoas em Domicílios Particulares Ocupados / DPPO + DPIO)
      - name: porcentagem_domicilios_imputados
        description: Percentual de Domicílios Particulares Ocupados Imputados (Total
          DPO imputados / Total DPO)
      - name: domcilios_particulares_ocupados
        description: Total de Domicílios Particulares Ocupados (DPPO + DPIO)
  - name: br_ibge_censo_2022__caracteristica_domicilio_grupo_idade_raca_tipo_domicilio
    description: Moradores em domicílios particulares permanentes ocupados, por tipo
      do domicílio, segundo grupos de idade e cor ou raça.
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - ano
            - id_municipio
            - tipo_domicilio
            - grupo_idade
            - cor_raca
    columns:
      - name: ano
        description: Ano
        tests:
          - relationships:
              to: ref('br_bd_diretorios_data_tempo__ano')
              field: ano.ano
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: tipo_domicilio
        description: Tipo de domicílio
      - name: grupo_idade
        description: Grupo de Idade
      - name: cor_raca
        description: Cor ou Raça
      - name: populacao
        description: Moradores em domicílios particulares permanentes ocupados
  - name: br_ibge_censo_2022__populacao_grupo_idade_sexo_indigena
    description: Insert table description here
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [ano, id_municipio, grupo_idade, sexo]
      - not_null_proportion_multiple_columns:
          at_least: 0.05
    columns:
      - name: ano
        description: Ano
        tests:
          - relationships:
              to: ref('br_bd_diretorios_data_tempo__ano')
              field: ano.ano
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: grupo_idade
        description: Grupo de Idade
      - name: sexo
        description: Sexo
      - name: populacao_indigena
        description: Pessoas Indígenas
  - name: br_ibge_censo_2022__populacao_idade_sexo
    description: População por idade e sexo
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - id_municipio
            - forma_declaracao_idade
            - idade
            - sexo
    columns:
      - name: id_municipio
        description: ID Município IBGE 7 dígitos
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__municipio')
              field: id_municipio
      - name: forma_declaracao_idade
        description: Forma de declaração da idade
      - name: sexo
        description: Sexo
      - name: idade
        description: Idade
      - name: idade_anos
        description: Idade em anos
      - name: grupo_idade
        description: Idade agrupada em anos
      - name: populacao
        description: População residente
  - name: br_ibge_censo_2022__territorio_quilombola
    description: Domicílios particulares permanentes ocupados localizados em territórios
      quilombolas e Moradores, total e quilombolas, em domicílios particulares permanentes
      ocupados em territórios quilombolas, segundo os Territórios Quilombolas
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [id_territorio_quilombola]
    columns:
      - name: id_territorio_quilombola
        description: ID do Território Quilombola
      - name: territorio_quilombola
        description: Nome do Território Quilombola
      - name: sigla_uf
        description: Sigla da Unidade da Federação
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__uf')
              field: sigla
      - name: domicilios
        description: Domicílios particulares permanentes ocupados localizados em territórios
          quilombolas
      - name: populacao
        description: Moradores em domicílios particulares permanentes ocupados localizados
          em territórios quilombolas
      - name: populacao_quilombola
        description: Moradores quilombolas em domicílios particulares permanentes
          ocupados localizados em territórios quilombolas
  - name: br_ibge_censo_2022__terra_indigena
    description: População residente em terras indígenas, total e indígenas
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns: [id_terra_indigena]
    columns:
      - name: id_terra_indigena
        description: Código da Terra Indígena
      - name: terra_indigena
        description: Terra Indígena
      - name: sigla_uf
        description: Sigla da Unidade da Federação
        tests:
          - relationships:
              to: ref('br_bd_diretorios_brasil__uf')
              field: sigla
      - name: domicilios
        description: Domicílios particulares permanentes ocupados localizados em terras
          indígenas
      - name: populacao
        description: Moradores em domicílios particulares permanentes ocupados localizados
          em terras indígenas
      - name: populacao_indigena
        description: Moradores indígenas em domicílios particulares permanentes ocupados
          localizados em terras indígenas
